// Generated by CoffeeScript 1.5.0
(function() {
  var OrderEdit;

  OrderEdit = (function() {

    function OrderEdit() {}

    return OrderEdit;

  })();

  $(function() {
    var sc;
    return sc = new window.SuggestControl({
      parentClass: ".product-select",
      triggerClass: ".product-trigger",
      hiddenClass: ".product-id",
      category: "product",
      onSelect: function(line, suggestion) {
        var customerId, productId, url;
        console.log(suggestion);
        productId = suggestion.data;
        customerId = $(".suggest-id").val();
        url = "/api/customer_price/" + customerId + "/" + productId;
        return $.ajax({
          url: url,
          context: document.body,
          dataType: 'json',
          success: function(data) {
            if (data) {
              return $(line).find(".price").val(data.price);
            }
          },
          error: function(jqXHR, textStatus, errorThrown) {
            return console.log(textStatus);
          }
        }).done(function() {
          return console.log('done...');
        });
      }
    });
  });

}).call(this);
